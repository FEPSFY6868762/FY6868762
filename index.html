<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Engines On Steroids: The Importance Of Fuel Injectors In Formula 1 </title>

    <!-- External Libraries -->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

    <!-- Internal Styles -->
    <style>
        body {
            background-color: #FFFFCC;
            margin-left: 50px;
            font-family: Calibri, sans-serif;
        }

        img {
            width: 1200px;
            height: 300px;
        }

        table {
            font-family: Arial, sans-serif;
            border-collapse: collapse;
            width: 30%;
        }

        td, th {
            border: 1px solid #dddddd;
            text-align: left;
            padding: 8px;
        }

        tr:nth-child(even) {
            background-color: #FFFFFF;
        }

        .ex1 {
            margin-left: 250px;
        }

        .mySlides {
            display: none;
        }
    </style>
</head>

<body>

    <!-- Banner and Header -->
    <img src="WebBanner2023.png" alt="Banner">
    <h1><b>ENG0018 Computer Laboratory 2025/26</b></h1>
    <h2>Student URN: 6868762</h2>
    <hr>
    <h2><b>Engines On Steroids: The Importance Of Fuel Injectors In Formula 1 Combustion Engines</b></h2>
    <hr>

    <!-- Table of Contents -->
    <table>
        <tr><th><h3>Table of Contents</h3></th></tr>
        <tr><td><a href="#Abstract">Abstract</a></td></tr>
        <tr><td><a href="#IntroductionSection">Introduction</a></td></tr>
        <tr><td><a href="#AnalysisSection">Analysis and Discussion</a></td></tr>
        <tr><td><a href="#References">References</a></td></tr>
    </table>
    <hr>

    <!-- Abstract -->
    <h3 id="Abstract">Abstract</h3>
    <pre class="ex1">
        Put Abstract here.
    </pre>

    <!-- Introduction -->
    <h3 id="IntroductionSection">Introduction</h3>
    <pre class="ex1" id="IntroductionText">
        Put your introduction here.
    </pre>

    <!-- Analysis and Discussion -->
    <h3 id="AnalysisSection">Analysis and Discussion</h3> 
    <pre class="ex1" id="AnalysisText">
        Put your analysis and discussion here.
    </pre>

    <!-- References -->
    <h3 id="References">References</h3>
    <pre class="ex1">
        Put your references here.
    </pre>
    <hr>

    <!-- Button: Change Colour -->
    <button id="colorButton">Engines are cool!!</button>

    <script>
        // Random button colour changer
        const button = document.getElementById("colorButton");
        button.addEventListener("click", function () {
            const randomColor = "#" + Math.floor(Math.random() * 16777215).toString(16);
            button.style.backgroundColor = randomColor;
        });
    </script>

    <!-- Last Updated from GitHub -->
    <div id="last-updated">Loading last update time...</div>
    <button onclick="verifyLastUpdatedTime()" style="display: block; margin: 10px auto; padding: 8px 16px;">
        Verify Last Modified Time
    </button>

    <script>
        async function getLastUpdatedTime() {
            const username = 'FEPSFY6868762';
            const repo = 'FY6868762';
            const url = `https://api.github.com/repos/${username}/${repo}/commits`;

            try {
                const response = await fetch(url, {
                    method: 'GET',
                    headers: { 'Accept': 'application/vnd.github.v3+json' }
                });

                if (!response.ok) throw new Error(`Error fetching data: ${response.statusText}`);

                const commits = await response.json();
                if (commits.length > 0) {
                    const lastCommitDate = new Date(commits[0].commit.committer.date);
                    document.getElementById('last-updated').innerText = `Last Modified Time: ${lastCommitDate.toLocaleString()}`;
                } else {
                    document.getElementById('last-updated').innerText = 'No commits found in the repository.';
                }
            } catch (error) {
                console.error(error);
                document.getElementById('last-updated').innerText = 'Error fetching update time.';
            }
        }

        async function verifyLastUpdatedTime() {
            document.getElementById('last-updated').innerText = 'Verifying...';
            await getLastUpdatedTime();
            alert("Last modified time has been successfully verified from GitHub API.");
        }

        window.onload = function () {
            getLastUpdatedTime();
            displayTotalWordCount(); // Run word count on load
        };
    </script>

     <!-- //////////////////////////////////////////////////////////////////////////////// -->
  <!-- ////////////////////////////// Word count function ////////////////////////////// -->
  <!-- //////////////////////////////////////////////////////////////////////////////// -->

    <p id="totalWordCount" style="font-weight: bold;"></p>

    <script>
        function displayWordCount(sectionId) {
            const text = document.getElementById(sectionId).textContent;
            const words = text.trim().split(/\s+/).filter(word => word.length > 0);
            return words.length;
        }

        function displayTotalWordCount() {
            const introCount = displayWordCount("IntroductionText");
            const analysisCount = displayWordCount("AnalysisText");
            const totalCount = introCount + analysisCount;
            document.getElementById("totalWordCount").innerText = `Total word count: ${totalCount}`;
        }
    </script>

</body>
</html>
